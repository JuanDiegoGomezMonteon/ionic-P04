<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Productos - JDGM
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-grid>
          <form [formGroup]="formProducto">
            <ion-list>
              <ion-item>
                <ion-input type="text" placeholder="CÓDIGO" formControlName="sku"></ion-input>
                <ng-container *ngFor="let val of validationMessages['sku']">
                  <div class="error-message" *ngIf="formProducto.get('sku')?.hasError(val.type)&&formProducto.get('sku')?.touched">
                    {{val.message}}
                  </div>
                </ng-container>
              </ion-item>
              
              <ion-item>
                <ion-input type="text" placeholder="NOMBRE" formControlName="name"></ion-input>
                <ng-container *ngFor="let val of validationMessages['name']">
                  <div class="error-message" *ngIf="formProducto.get('name')?.hasError(val.type)&&formProducto.get('name')?.touched">
                    {{val.message}}
                  </div>
                </ng-container>
              </ion-item>

              <ion-item>
                <ion-input type="text" placeholder="DESCRIPCIÓN" formControlName="description"></ion-input>
              </ion-item>

              <ion-item>
                <ion-input type="number" placeholder="PRECIO" formControlName="price"></ion-input>
                <ng-container *ngFor="let val of validationMessages['price']">
                  <div class="error-message" *ngIf="formProducto.get('price')?.hasError(val.type)&&formProducto.get('price')?.touched">
                    {{val.message}}
                  </div>
                </ng-container>
              </ion-item>

              <ion-item>
                <ion-select interface="popover" placeholder="CATEGORÍA" formControlName="category">
                    <ion-select-option *ngFor="let cat of categorias" [value]="cat">{{cat.idCategoryBK}}</ion-select-option>
                </ion-select>
                <ng-container *ngFor="let val of validationMessages['category']">
                  <div class="error-message" *ngIf="formProducto.get('category')?.hasError(val.type)&&formProducto.get('category')?.touched">
                    {{val.message}}
                  </div>
                </ng-container>
              </ion-item>

              <ion-item>
                <ion-input type="number" placeholder="CALIFICACIÓN" formControlName="stock"></ion-input>
                <ng-container *ngFor="let val of validationMessages['stock']">
                  <div class="error-message" *ngIf="formProducto.get('stock')?.hasError(val.type)&&formProducto.get('stock')?.touched">
                    {{val.message}}
                  </div>
                </ng-container>
              </ion-item>
              <ion-item>
                <ion-input type="text" placeholder="IMAGEN" formControlName="photo"></ion-input>
              </ion-item>
            </ion-list>
            <ion-button color="primary" expand="full" [disabled]="!formProducto.valid" (click)="newProduct()"> 
              Agregar Producto
            </ion-button>            
          </form>
  </ion-grid>
</ion-content>